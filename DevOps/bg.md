# 블루/그린 배포

무중단 배포 부터 알아보겠다.

서비스의 버전이 바뀌고 새로운 버전으로 업데이트 할 때 구버전의 프로세스를 종료하고 신버전의 프로세스를 진행시킨다. 그러면 신버전이 올라갈 때 까지 요청을 처리할 수 없게 된다.

이 시간을 **다운타임**이라고 한다. 이 다운타임을 없애기 위한 방법들은 여러가지가 있으며(롤링, 블루그린, 카나리) 오늘은 블루 그린 배포에 대해서 더 자세히 알아볼 것이다.

### 블루 그린 배포

![](https://blog.kakaocdn.net/dn/XRBsk/btrjkiiLNDT/OO4IpUkXGRnSaOkp9t2aC1/img.gif)

> 블루는 구버전, 그린은 신버전을 의미한다.

운영중인 구버전과 신버전의 인스턴스를 구성한 후 **로드 밸런서를 통해서 모든 트래픽을 한번에 신버전 쪽으로 전환**하는 방식이다.

#### 장점
- 구버전의 인스턴스가 그대로 남아 있어 롤백이 용이하다.
- 구버전의 환경을 다음 배포에 재사용할 수 있다.
- 운영환경에 영향을 주지 않고 새 버전이 테스트가 가능하다.

#### 단점
- 시스템 자원이 두배로 필요하다.
- 새로운 환경에 대한 테스트가 전제되어야한다.